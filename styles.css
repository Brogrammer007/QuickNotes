@import url('https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&family=Inter:wght@400;600&family=Roboto+Mono:wght@400;500&family=Merriweather:wght@400;700&display=swap');

#qn-container {
  position: fixed;
  z-index: 2147483647;
  display: flex;
  flex-direction: column;
  background: linear-gradient(135deg, #fffde7 0%, #fff59d 100%); /* Default Yellow */
  box-shadow: 0 5px 25px rgba(0,0,0,0.2);
  border-radius: 0 0 10px 0;
  font-family: 'Kalam', cursive;
  box-sizing: border-box;
  width: 250px;
  height: 200px;
  transition: opacity 0.2s, transform 0.2s;
  color: #2c3e50; /* Default dark text */
}

/* Colors & Text Contrast */
#qn-container.qn-blue { 
  background: linear-gradient(135deg, #e3f2fd 0%, #90caf9 100%); 
  color: #0d47a1; 
}
#qn-container.qn-green { 
  background: linear-gradient(135deg, #e8f5e9 0%, #a5d6a7 100%); 
  color: #1b5e20; 
}
#qn-container.qn-pink { 
  background: linear-gradient(135deg, #fce4ec 0%, #f48fb1 100%); 
  color: #880e4f; 
}
#qn-container.qn-dark { 
  background: linear-gradient(135deg, #37474f 0%, #263238 100%); 
  color: #eceff1; /* Light text for dark mode */
}

/* Buttons color adaptation */
#qn-container .qn-btn {
  color: inherit; /* Adapt to theme text color */
  opacity: 0.7;
}
#qn-container .qn-btn:hover {
  opacity: 1;
  background: rgba(0,0,0,0.1);
}
/* In dark mode, make hover lighter */
#qn-container.qn-dark .qn-btn:hover {
  background: rgba(255,255,255,0.1);
}

/* Fonts */
#qn-container.qn-font-sans { font-family: 'Inter', sans-serif; }
#qn-container.qn-font-mono { font-family: 'Roboto Mono', monospace; }
#qn-container.qn-font-serif { font-family: 'Merriweather', serif; }

/* Ghost Mode */
#qn-container.qn-ghost { opacity: 0.3; pointer-events: none; }
#qn-container.qn-ghost:hover { opacity: 1; pointer-events: auto; }
#qn-container.qn-ghost .qn-header { pointer-events: auto; }

/* Minimized */
#qn-container.qn-minimized {
  height: auto !important;
  width: auto !important;
  min-width: 150px;
}
#qn-container.qn-minimized .qn-area, 
#qn-container.qn-minimized .qn-resize-handle,
#qn-container.qn-minimized .qn-controls-left {
  display: none;
}

.qn-header {
  padding: 6px 10px;
  background: rgba(0,0,0,0.05); /* Transparent dark for light themes */
  cursor: grab;
  display: flex;
  justify-content: space-between;
  align-items: center;
  user-select: none;
  border-bottom: 1px solid rgba(0,0,0,0.05);
}

/* In dark mode, make header background light transparent */
#qn-container.qn-dark .qn-header {
  background: rgba(255,255,255,0.05);
  border-bottom: 1px solid rgba(255,255,255,0.05);
}

.qn-controls-left, .qn-controls-right {
  display: flex;
  align-items: center;
  gap: 4px;
}

/* Color Circles */
.qn-color-btn {
  width: 12px; height: 12px; border-radius: 50%;
  border: 1px solid rgba(0,0,0,0.15); cursor: pointer;
  transition: transform 0.1s;
}
.qn-color-btn:hover { transform: scale(1.2); }
.qn-c-yellow { background: #fff59d; }
.qn-c-blue { background: #90caf9; }
.qn-c-green { background: #a5d6a7; }
.qn-c-pink { background: #f48fb1; }
.qn-c-dark { background: #455a64; border-color: #cfd8dc; }

/* Text Buttons */
.qn-btn {
  background: none; border: none; cursor: pointer;
  font-size: 12px; font-weight: bold;
  padding: 2px 4px; border-radius: 3px;
}

.qn-area {
  flex: 1; width: 100%; border: none; resize: none;
  background: transparent; padding: 12px;
  font-size: 16px; line-height: 1.5; outline: none;
  color: inherit; /* Inherit form container */
  box-sizing: border-box;
  font-family: inherit;
}

.qn-area::placeholder {
  color: inherit;
  opacity: 0.5;
}

.qn-resize-handle {
  position: absolute; bottom: 0; right: 0;
  width: 15px; height: 15px; cursor: se-resize;
  background: linear-gradient(135deg, transparent 50%, rgba(0,0,0,0.1) 50%);
  opacity: 0.5;
}
#qn-container.qn-dark .qn-resize-handle {
  background: linear-gradient(135deg, transparent 50%, rgba(255,255,255,0.2) 50%);
}
